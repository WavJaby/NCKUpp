"use strict";import{a as C,br as k,div as E,h1 as I,h2 as H,img as A,mountableStylesheet as S,p as U,span as y,text as W}from"../lib/domHelper_v003.min.js";import{fetchApi as D,isMobile as F}from"../lib/lib.js";export default function(t){console.log("Home Init");const e=y(null,"slideOut",y("++")),n=S("./res/pages/home.css"),o=E("introduction",E("block",A("./res/assets/page_home/sort_function.png"),H("æ’åºåŠŸèƒ½","title"),U("å¯å°æœå°‹çµæœçš„ä»»æ„æ¬„ä½é€²è¡Œæ’åº")),E("block",A("./res/assets/page_home/ncku_hub_comment_function.png"),H("NCKU HUBè©•è«–","title"),U("é»æ“Šèª²ç¨‹è©•åˆ†å³å¯æŸ¥çœ‹è©•è«–")),E("block",A("./res/assets/page_home/urschool_instructor_info_function.png"),H("UrSchoolæ•™æˆè©•åƒ¹","title"),U("é»æ“Šæ•™å¸«å§“åæŸ¥çœ‹è¬›å¸«è©•åƒ¹ã€è©³ç´°è³‡æ–™åŠè©•è«–")),E("block",A("./res/assets/page_home/category_filter_function.png"),H("æœå°‹çµæœç¯©é¸","title"),U("å¯ä»¥è‡ªç”±é¸æ“‡ç¯©é¸æ¢ä»¶ï¼Œæä¾›è¡å ‚ã€ç²¾ç¢ºç¯€æ¬¡ã€ç­åˆ¥ç­‰ç¯©é¸å™¨")),E("block",A("./res/assets/page_home/schedule_download_function.png"),H("èª²è¡¨ä¸‹è¼‰","title"),U("æä¾›é æ’èª²è¡¨æª¢è¦–ï¼Œèª²è¡¨ä¸‹è¼‰åŠŸèƒ½ï¼Œä¸‹è¼‰æ¼‚äº®çš„èª²è¡¨ğŸ¥°")),E("block",A("./res/assets/page_home/add_course_function.png"),H("æ”¯æ´é æ’ã€é¸èª²","title"),U("ç™»å…¥å¾Œå¯è·Ÿé¸èª²ç¶²ç«™é€£å‹•ï¼Œé€²è¡Œé æ’ã€å¿—é¡˜ç™»è¨˜ã€å–®ç§‘åŠ é¸ç­‰æ“ä½œ"),U("æ¶èª²ä¸€å¾‹ä»¥æˆå¤§ç³»çµ±ç‚ºä¸»ï¼Œè‹¥ä½¿ç”¨æœ¬ç¶²ç«™æ¶èª²æœªæˆåŠŸä¸€æ¦‚ä¸è² è²¬","small"))),l=E("siteInfo",I(null,"title",A("res/assets/icon/icon_64.svg",""),y("NCKU"),e),U(null,"description",W("é›†åˆ"),A("res/assets/courseNcku_logo.png","åœ‹ç«‹æˆåŠŸå¤§å­¸èª²ç¨‹è³‡è¨ŠåŠé¸èª²ç³»çµ±"),A("res/assets/nckuHub_logo.svg","NCKUHub"),A("res/assets/UrSchool_logo.png","UrSchool"),k(),W("çœ¾å¤šåŠŸèƒ½ï¼Œæä¾›æ›´å¥½çš„é¸èª²ç’°å¢ƒ")),o,C(null,"./?page=CourseSearch","toCourseSearchLink",function(e){e.preventDefault(),t.openPage("CourseSearch"),window.navMenuClose()},y("å‰å¾€èª²ç¨‹æŸ¥è©¢"))),s=E("scrollDownIndicator",{onclick:function(){_=!0,F()?this.lastElementChild.scrollIntoView&&this.lastElementChild.scrollIntoView({behavior:"smooth"}):this.scrollIntoView&&this.scrollIntoView({behavior:"smooth"})}},A("./res/assets/down_arrow_icon.svg","","scrollDownArrow"),I("æœ€æ–°æ¶ˆæ¯","title")),r=E("newsPanel",E("splitLine"),E("items")),a=E("bulletinPanel",I("è³‡è¨Š","title"),E("splitLine"),E("items"));let i=!1,c=!1,u=0;const m={enrollmentAnnouncement:"é¸èª²å…¬å‘Š",enrollmentInformation:"é¸èª²è³‡è¨Š",enrollmentFAQs:"é¸èª²FAQs",exploringTainan:"è¸æº¯å°å—è·¯ç·šé¸æ“‡ç³»çµ±",serviceRecommended:"æœå‹™å­¸ç¿’æ¨è–¦å°ˆå€",contactInformation:"èª²ç¨‹è³‡è¨Šæœå‹™è¯çµ¡çª—å£"},d=document.createElement("link");d.rel="canonical";let h=!(d.href="https://wavjaby.github.io/NCKUpp/"),f=0,p=(o.onmouseenter=function(){h=!0},o.onmouseleave=function(){h=!1},0),g=0,b=!1,_=!0;function v(){var e=Date.now(),t=e-u;o.scrollLeft!==g?(g=o.scrollLeft,_=!0,u=e,requestAnimationFrame(v)):_?(2e3<t&&(_=!1,u=e),requestAnimationFrame(v)):(u=e,1<(p+=t/1e3*40)&&(b?--o.scrollLeft:o.scrollLeft+=1,g=o.scrollLeft,p%=1),0===o.scrollLeft?b=!1:o.scrollWidth-o.clientWidth-o.scrollLeft<1&&(b=!0,_=!0),i&&requestAnimationFrame(v))}function w(e){h&&(e.preventDefault(),_||(f=o.scrollLeft),_=!0,o.scrollTo?((f+=e.deltaY)<0&&(f=0),o.scrollWidth-o.clientWidth-f<0&&(f=o.scrollWidth-o.clientWidth),o.scrollLeft!==f&&o.scrollTo({left:f,behavior:"smooth"})):o.scrollLeft+=e.deltaY)}function L(){var e=t.element.scrollTop/l.offsetHeight;e<=1&&(l.style.opacity=(1-1.2*e).toString()),c=.5<e?(c||s.classList.add("toLeft"),!0):(c&&s.classList.remove("toLeft"),!1)}return E("home",{onRender:function(){console.log("Home Render"),n.mount(),D("/homeInfo").then(e=>{if(null!=e&&e.success&&e.data){var e=e.data,t=r.lastElementChild;for(const s of e.news){var n=s.contents.map(e=>e instanceof Object?C(e.content,e.url,null,null,{target:"_blank"}):y(e));t.appendChild(E("news",y(s.department,"department"),U(null,"content",n),y(s.date,"date")))}var o=a.lastElementChild,l=e.bulletin;o.appendChild(C("åŸé¸èª²ç³»çµ±","https://course.ncku.edu.tw/","bulletin",null,{target:"_blank"}));for(const i in l)o.appendChild(C(m[i],l[i],"bulletin",null,{target:"_blank"}))}})},onPageClose:function(){console.log("Home Close"),n.disable(),e.style.width=null,document.head.removeChild(d),t.element.removeEventListener("scroll",L),t.element.removeEventListener("wheel",w),i=!1},onPageOpen:function(){console.log("Home Open"),n.enable(),setTimeout(()=>e.style.width=e.firstElementChild.offsetWidth+"px",700),document.head.appendChild(d),t.element.addEventListener("scroll",L),t.element.addEventListener("wheel",w),i=!0,u=Date.now(),v()}},l,s,E("panels",r,a))}