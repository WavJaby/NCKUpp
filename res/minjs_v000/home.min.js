"use strict";import{a as H,br as S,div as U,h1 as W,h2 as A,img as D,mountableStylesheet as T,p as x,span as N,text as P}from"../minjs_v000/domHelper.min.js";import{fetchApi as j,isMobile as F}from"../lib/lib.js";export default function(t){console.log("Home Init");const e=T("./res/pages/home.css");let c;const l=N(null,"slideOut",N("++")),n=U("introduction",U("block",D("./res/assets/page_home/sort_function.png"),A("æŽ’åºåŠŸèƒ½","title"),x("å¯å°æœå°‹çµæžœçš„ä»»æ„æ¬„ä½é€²è¡ŒæŽ’åº")),U("block",D("./res/assets/page_home/ncku_hub_comment_function.png"),A("NCKU HUBè©•è«–","title"),x("é»žæ“Šèª²ç¨‹è©•åˆ†å³å¯æŸ¥çœ‹è©•è«–")),U("block",D("./res/assets/page_home/urschool_instructor_info_function.png"),A("UrSchoolæ•™æŽˆè©•åƒ¹","title"),x("é»žæ“Šæ•™å¸«å§“åæŸ¥çœ‹è¬›å¸«è©•åƒ¹ã€è©³ç´°è³‡æ–™åŠè©•è«–")),U("block",D("./res/assets/page_home/category_filter_function.png"),A("æœå°‹çµæžœç¯©é¸","title"),x("å¯ä»¥è‡ªç”±é¸æ“‡ç¯©é¸æ¢ä»¶ï¼Œæä¾›è¡å ‚ã€ç²¾ç¢ºç¯€æ¬¡ã€ç­åˆ¥ç­‰ç¯©é¸å™¨")),U("block",D("./res/assets/page_home/schedule_download_function.png"),A("èª²è¡¨ä¸‹è¼‰","title"),x("æä¾›é æŽ’èª²è¡¨æª¢è¦–ï¼Œèª²è¡¨ä¸‹è¼‰åŠŸèƒ½ï¼Œä¸‹è¼‰æ¼‚äº®çš„èª²è¡¨ðŸ¥°")),U("block",D("./res/assets/page_home/add_course_function.png"),A("æ”¯æ´é æŽ’ã€é¸èª²","title"),x("ç™»å…¥å¾Œå¯è·Ÿé¸èª²ç¶²ç«™é€£å‹•ï¼Œé€²è¡Œé æŽ’ã€å¿—é¡˜ç™»è¨˜ã€å–®ç§‘åŠ é¸ç­‰æ“ä½œ"),x("æ¶èª²ä¸€å¾‹ä»¥æˆå¤§ç³»çµ±ç‚ºä¸»ï¼Œè‹¥ä½¿ç”¨æœ¬ç¶²ç«™æ¶èª²æœªæˆåŠŸä¸€æ¦‚ä¸è² è²¬","small"))),d=[D("res/assets/icon/icon_64.svg",""),D("https://sticker-assets.dcard.tw/images/4d5acaf6-fb1c-4110-8538-6d2d651b410a/full.png",""),D("https://sticker-assets.dcard.tw/images/b5c7eddc-8dd9-40e9-ba4b-358323a45713/full.png",""),D("https://sticker-assets.dcard.tw/images/84eddd38-497c-41d6-8845-ec8b57498c6a/full.png",""),D("https://sticker-assets.dcard.tw/images/102eb5ae-3f1e-4b28-8866-905a64f87c9b/full.png","")];let m=0,h=0;const p=U("rippleable",{onclick:e=>{var t,l=(e=e).currentTarget,n=document.createElement("div"),s=Math.sqrt(l.clientWidth*l.clientWidth+l.clientHeight*l.clientHeight),o=(n.style.width=n.style.height=2*s+"px",l.getBoundingClientRect&&l.getBoundingClientRect()),e=(o?(n.style.top=e.pageY-(o.top+s)+"px",n.style.left=e.pageX-(o.left+s)+"px"):n.style.top=n.style.left="0",n.classList.add("ripple"),l.getElementsByClassName("ripple")),i=Date.now&&Date.now()||-1,a=(n.createTime=i,[]);for(const r of e)(-1===i||600<i-r.createTime)&&a.push(r);for(t of a)t.parentElement.removeChild(t);l.appendChild(n),5==++h&&(h=0,++m===d.length&&(m=0),c.data.iconImageStyle=m,c.save(),p.replaceChild(d[m],p.firstChild))}}),s=U("siteInfo",W(null,"title",p,N("NCKU"),l),x(null,"description",P("é›†åˆ"),D("res/assets/NCKU_course_system_logo.png","åœ‹ç«‹æˆåŠŸå¤§å­¸èª²ç¨‹è³‡è¨ŠåŠé¸èª²ç³»çµ±"),D("res/assets/nckuHub_logo.svg","NCKUHub"),D("res/assets/UrSchool_logo.png","UrSchool"),S(),P("çœ¾å¤šåŠŸèƒ½ï¼Œæä¾›æ›´å¥½çš„é¸èª²ç’°å¢ƒ")),n,H(null,"./?page=CourseSearch","toCourseSearchLink",function(e){e.preventDefault(),t.openPage("CourseSearch"),window.navMenuClose()},N("å‰å¾€èª²ç¨‹æŸ¥è©¢"))),o=U("scrollDownIndicator",{onclick:function(){k=!0,F()?this.lastElementChild.scrollIntoView&&this.lastElementChild.scrollIntoView({behavior:"smooth"}):this.scrollIntoView&&this.scrollIntoView({behavior:"smooth"})}},D("./res/assets/down_arrow_icon.svg","","scrollDownArrow"),W("æœ€æ–°æ¶ˆæ¯","title")),a=U("newsPanel",U("splitLine"),U("items")),r=U("bulletinPanel",W("è³‡è¨Š","title"),U("splitLine"),U("items"));let i=!1,u=!1,f=0;const g={enrollmentAnnouncement:"é¸èª²å…¬å‘Š",enrollmentInformation:"é¸èª²è³‡è¨Š",enrollmentFAQs:"é¸èª²FAQs",exploringTainan:"è¸æº¯å°å—è·¯ç·šé¸æ“‡ç³»çµ±",serviceRecommended:"æœå‹™å­¸ç¿’æŽ¨è–¦å°ˆå€",contactInformation:"èª²ç¨‹è³‡è¨Šæœå‹™è¯çµ¡çª—å£"},b=document.createElement("link");b.rel="canonical";let v=!(b.href="https://wavjaby.github.io/NCKUpp/"),_=0;n.onmouseenter=function(){v=!0},n.onmouseleave=function(){v=!1};let w=0,C=0,L=!1,k=!0;function y(){var e=Date.now(),t=e-f;n.scrollLeft!==C?(C=n.scrollLeft,k=!0,f=e,requestAnimationFrame(y)):k?(2e3<t&&(k=!1,f=e),requestAnimationFrame(y)):(f=e,1<(w+=t/1e3*40)&&(L?--n.scrollLeft:n.scrollLeft+=1,C=n.scrollLeft,w%=1),0===n.scrollLeft?L=!1:n.scrollWidth-n.clientWidth-n.scrollLeft<1&&(L=!0,k=!0),i&&requestAnimationFrame(y))}function E(e){v&&(e.preventDefault(),k||(_=n.scrollLeft),k=!0,n.scrollTo?((_+=e.deltaY)<0&&(_=0),n.scrollWidth-n.clientWidth-_<0&&(_=n.scrollWidth-n.clientWidth),n.scrollLeft!==_&&n.scrollTo({left:_,behavior:"smooth"})):n.scrollLeft+=e.deltaY)}function I(){var e=t.element.scrollTop/s.offsetHeight;e<=1&&(s.style.opacity=(1-1.2*e).toString()),u=.5<e?(u||o.classList.add("toLeft"),!0):(u&&o.classList.remove("toLeft"),!1)}return U("home",{onRender:function(){console.log("Home Render"),e.mount(),c=t.getPageStorage(this,0),m=c.data.iconImageStyle||0,p.appendChild(d[m]),j("/homeInfo").then(e=>{if(null!=e&&e.success&&e.data){var e=e.data,t=a.lastElementChild;for(const o of e.news){var l=o.contents.map(e=>e instanceof Object?H(e.content,e.url,null,null,{target:"_blank"}):N(e));t.appendChild(U("news",N(o.department,"department"),x(null,"content",l),N(o.date,"date")))}var n=r.lastElementChild,s=e.bulletin;n.appendChild(H("åŽŸé¸èª²ç³»çµ±","https://course.ncku.edu.tw/","bulletin",null,{target:"_blank"}));for(const i in s)n.appendChild(H(g[i],s[i],"bulletin",null,{target:"_blank"}))}})},onPageClose:function(){console.log("Home Close"),e.disable(),l.style.width=null,document.head.removeChild(b),t.element.removeEventListener("scroll",I),t.element.removeEventListener("wheel",E),i=!1},onPageOpen:function(){console.log("Home Open"),e.enable(),setTimeout(()=>l.style.width=l.firstElementChild.offsetWidth+"px",700),document.head.appendChild(b),t.element.addEventListener("scroll",I),t.element.addEventListener("wheel",E),i=!0,f=Date.now(),y()}},s,o,U("panels",a,r))}
//# sourceMappingURL=home.min.js.map