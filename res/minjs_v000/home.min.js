"use strict";import{a as k,button as y,div as E,h1 as I,h2 as x,img as H,input as P,mountableStylesheet as S,p as W,span as A}from"../minjs_v000/domHelper.min.js";import{fetchApi as T,isMobile as U}from"../lib/lib.js";export default function(t){console.log("Home Init");const e=S("./res/pages/home.css");let l;const n=E("introduction",E("block",H("./res/assets/page_home/sort_function.png"),x("æ’åºåŠŸèƒ½","title"),W("å¯å°æœå°‹çµæœçš„ä»»æ„æ¬„ä½é€²è¡Œæ’åº")),E("block",H("./res/assets/page_home/ncku_hub_comment_function.png"),x("NCKU HUBè©•è«–","title"),W("é»æ“Šèª²ç¨‹è©•åˆ†å³å¯æŸ¥çœ‹è©•è«–")),E("block",H("./res/assets/page_home/urschool_instructor_info_function.png"),x("UrSchoolæ•™æˆè©•åƒ¹","title"),W("é»æ“Šæ•™å¸«å§“åæŸ¥çœ‹è¬›å¸«è©•åƒ¹ã€è©³ç´°è³‡æ–™åŠè©•è«–")),E("block",H("./res/assets/page_home/category_filter_function.png"),x("æœå°‹çµæœç¯©é¸","title"),W("å¯ä»¥è‡ªç”±é¸æ“‡ç¯©é¸æ¢ä»¶ï¼Œæä¾›è¡å ‚ã€ç²¾ç¢ºç¯€æ¬¡ã€ç­åˆ¥ç­‰ç¯©é¸å™¨")),E("block",H("./res/assets/page_home/schedule_download_function.png"),x("èª²è¡¨ä¸‹è¼‰","title"),W("æä¾›é æ’èª²è¡¨æª¢è¦–ï¼Œèª²è¡¨ä¸‹è¼‰åŠŸèƒ½ï¼Œä¸‹è¼‰æ¼‚äº®çš„èª²è¡¨ğŸ¥°")),E("block",H("./res/assets/page_home/add_course_function.png"),x("æ”¯æ´é æ’ã€é¸èª²","title"),W("ç™»å…¥å¾Œå¯è·Ÿé¸èª²ç¶²ç«™é€£å‹•ï¼Œé€²è¡Œé æ’ã€å¿—é¡˜ç™»è¨˜ã€å–®ç§‘åŠ é¸ç­‰æ“ä½œ"),W("æ¶èª²ä¸€å¾‹ä»¥æˆå¤§ç³»çµ±ç‚ºä¸»ï¼Œè‹¥ä½¿ç”¨æœ¬ç¶²ç«™æ¶èª²æœªæˆåŠŸä¸€æ¦‚ä¸è² è²¬","small"))),s=function(){let r;const d=[H("res/assets/icon/icon_64.svg",""),H("https://sticker-assets.dcard.tw/images/4d5acaf6-fb1c-4110-8538-6d2d651b410a/full.png",""),H("https://sticker-assets.dcard.tw/images/b5c7eddc-8dd9-40e9-ba4b-358323a45713/full.png",""),H("https://sticker-assets.dcard.tw/images/84eddd38-497c-41d6-8845-ec8b57498c6a/full.png",""),H("https://sticker-assets.dcard.tw/images/102eb5ae-3f1e-4b28-8866-905a64f87c9b/full.png","")];let p=0,m=0;const h=E("rippleable",{onclick:e=>{var t,l=(e=e).currentTarget,n=document.createElement("div"),s=Math.sqrt(l.clientWidth*l.clientWidth+l.clientHeight*l.clientHeight),o=(n.style.width=n.style.height=2*s+"px",l.getBoundingClientRect&&l.getBoundingClientRect()),e=(o?(n.style.top=e.pageY-(o.top+s)+"px",n.style.left=e.pageX-(o.left+s)+"px"):n.style.top=n.style.left="0",n.classList.add("ripple"),l.getElementsByClassName("ripple")),i=Date.now&&Date.now()||-1,a=(n.createTime=i,[]);for(const c of e)(-1===i||600<i-c.createTime)&&a.push(c);for(t of a)t.parentElement.removeChild(t);l.appendChild(n),5==++m&&(m=0,++p===d.length&&(p=0),r.data.iconImageStyle=p,r.save(),h.replaceChild(d[p],h.firstChild))}}),e=A(null,"slideOut",H("./res/assets/page_home/logo_plusplus_text.svg","++"));return E("main",{init:e=>{r=e,p=r.data.iconImageStyle||0,h.appendChild(d[p])},onPageOpen:()=>setTimeout(()=>e.style.width=e.firstElementChild.offsetWidth+"px",700),onPageClose:()=>e.style.width=null},I(null,"title",h,H("./res/assets/page_home/logo_text.svg","NCKU"),e),W(null,"description",A("çµåˆ NCKU HUBãƒ»UrSchoolãƒ»æˆå¤§é¸èª²ç³»çµ±",null,{style:"letter-spacing: 3.2px"}),A("çœ¾å¤šåŠŸèƒ½ï¼Œæä¾›æ›´å¥½çš„é¸èª²ç’°å¢ƒã€‚",null,{style:"font-size:48px;font-weight:700;letter-spacing:4.8px"})),E("quickSearch",P("searchInput","Search...",null,null),y(null,null,null,H("./res/assets/search_icon.svg",""),A("èª²ç¨‹æŸ¥è©¢"))))}(),o=E("siteInfo",s,void 0),i=E("scrollDownIndicator",{onclick:function(){_=!0,U()?this.lastElementChild.scrollIntoView&&this.lastElementChild.scrollIntoView({behavior:"smooth"}):this.scrollIntoView&&this.scrollIntoView({behavior:"smooth"})}},H("./res/assets/down_arrow_icon.svg","","scrollDownArrow")),a=E("newsPanel",E("splitLine"),E("items")),c=E("bulletinPanel",I("è³‡è¨Š","title"),E("splitLine"),E("items"));let r=!1,d=!1,p=0;const m={enrollmentAnnouncement:"é¸èª²å…¬å‘Š",enrollmentInformation:"é¸èª²è³‡è¨Š",enrollmentFAQs:"é¸èª²FAQs",exploringTainan:"è¸æº¯å°å—è·¯ç·šé¸æ“‡ç³»çµ±",serviceRecommended:"æœå‹™å­¸ç¿’æ¨è–¦å°ˆå€",contactInformation:"èª²ç¨‹è³‡è¨Šæœå‹™è¯çµ¡çª—å£"},h=document.createElement("link");h.rel="canonical";let u=!(h.href="https://wavjaby.github.io/NCKUpp/"),f=0;n.onmouseenter=function(){u=!0},n.onmouseleave=function(){u=!1};let g=0,b=0,v=!1,_=!0;function w(){var e=Date.now(),t=e-p;n.scrollLeft!==b?(b=n.scrollLeft,_=!0,p=e,requestAnimationFrame(w)):_?(2e3<t&&(_=!1,p=e),requestAnimationFrame(w)):(p=e,1<(g+=t/1e3*40)&&(v?--n.scrollLeft:n.scrollLeft+=1,b=n.scrollLeft,g%=1),0===n.scrollLeft?v=!1:n.scrollWidth-n.clientWidth-n.scrollLeft<1&&(v=!0,_=!0),r&&requestAnimationFrame(w))}function C(e){u&&(e.preventDefault(),_||(f=n.scrollLeft),_=!0,n.scrollTo?((f+=e.deltaY)<0&&(f=0),n.scrollWidth-n.clientWidth-f<0&&(f=n.scrollWidth-n.clientWidth),n.scrollLeft!==f&&n.scrollTo({left:f,behavior:"smooth"})):n.scrollLeft+=e.deltaY)}function L(){var e=t.element.scrollTop/o.offsetHeight;e<=1&&(o.style.opacity=(1-1.2*e).toString()),d=.5<e?(d||i.classList.add("toLeft"),!0):(d&&i.classList.remove("toLeft"),!1)}return E("home",{onRender:function(){console.log("Home Render"),e.mount(),l=t.getPageStorage(this,0),s.init(l),T("/homeInfo").then(e=>{if(null!=e&&e.success&&e.data){var e=e.data,t=a.lastElementChild;for(const o of e.news){var l=o.contents.map(e=>e instanceof Object?k(e.content,e.url,null,null,{target:"_blank"}):A(e));t.appendChild(E("news",A(o.department,"department"),W(null,"content",l),A(o.date,"date")))}var n=c.lastElementChild,s=e.bulletin;n.appendChild(k("åŸé¸èª²ç³»çµ±","https://course.ncku.edu.tw/","bulletin",null,{target:"_blank"}));for(const i in s)n.appendChild(k(m[i],s[i],"bulletin",null,{target:"_blank"}))}})},onPageClose:function(){console.log("Home Close"),e.disable(),document.head.removeChild(h),s.onPageClose(),t.element.removeEventListener("scroll",L),t.element.removeEventListener("wheel",C),r=!1},onPageOpen:function(){console.log("Home Open"),e.enable(),document.head.appendChild(h),s.onPageOpen(),t.element.addEventListener("scroll",L),t.element.addEventListener("wheel",C),r=!0,p=Date.now(),w()}},o,i,E("panels",a,c))}
//# sourceMappingURL=home.min.js.map